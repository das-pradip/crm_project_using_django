{% extends "webapp/base.html" %}

{% block content %}

<style>
    body {
        background: linear-gradient(135deg, #e3f2fd, #f8f9fa);
        min-height: 100vh;
    }

    .profile-wrapper {
        min-height: calc(100vh - 120px);
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .profile-card {
        max-width: 420px;
        width: 100%;
        border-radius: 15px;
        background: #ffffff;
    }

    .profile-img {
        width: 120px;
        height: 120px;
        object-fit: cover;
        border: 4px solid #0d6efd;
        
    }
</style>

<div class="profile-wrapper">
    <div class="card profile-card shadow-lg p-4 text-center">

        <h4 class="mb-3 fw-bold">My Profile</h4>

        <img
            src="{% if request.user.profile.profile_image %}
                    {{ request.user.profile.profile_image.url }}
                 {% else %}
                    /media/profiles/default.png
                 {% endif %}"
            class="rounded-circle profile-img mb-3 d-block mx-auto"
            alt="Profile Image"
        >

        <p class="mb-1"><strong>Username:</strong> {{ profile.user.username }}</p>
        <p class="mb-3">
            <strong>Role:</strong>
            <span class="badge bg-primary">{{ profile.role|title }}</span>
        </p>

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="file" name="profile_image" class="form-control mb-3">
            <button class="btn btn-primary w-100">
                Update Photo
            </button>
        </form>

       <a href="{% url 'dashboard' %}" class="btn btn-secondary w-100 mt-2">
            â¬… Return to Dashboard
       </a>

    </div>
</div>

{% endblock %}
